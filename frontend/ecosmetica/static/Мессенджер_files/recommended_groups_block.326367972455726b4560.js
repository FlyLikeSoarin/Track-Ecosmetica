!function(e){function t(t){for(var r,s,c=t[0],i=t[1],l=t[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],r=!0,c=1;c<o.length;c++){var i=o[c];0!==n[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=o[0]))}return e}var r={},n={"web/recommended_groups_block":0},a=[];function s(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=r,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(o,r,function(t){return e[t]}.bind(null,r));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/js/cmodules/";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;a.push([259,"vendors","common"]),o()}({259:function(e,t,o){e.exports=o("EERI")},EERI:function(e,t,o){"use strict";o.r(t);var r=o("zxIV"),n=o("D1OX"),a=o("3oLO"),s=o("EasH"),c=o("4+be"),i=o("v+DW"),l=o("Egk5"),u=o("Xrg9"),d=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<o;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,n++)r[n]=a[s];return r},p=function(){function e(e,t){this.sendLogsTimeout=null,this.sendLogsProcess=!1,this.localStorageKey="recommended_groups",this.logsDataDelimiter="|",this.location=e,this.act=t}return e.prototype.sendLogs=function(){this.sendLogsTimeout&&clearTimeout(this.sendLogsTimeout),this.sendLogsTimeout=setTimeout(this.sendLogsAccept.bind(this),1e4)},e.prototype.sendLogsAccept=function(){var e=this;if(!this.sendLogsProcess){var t=this.getLogs(!0);t.length&&(this.sendLogsProcess=!0,this.clearLogs(),window.ajax.post(this.location,{act:this.act,logs:t},{onDone:function(){e.sendLogsProcess=!1},onFail:function(){return e.restoreLogs(t),e.sendLogsProcess=!1,!0}}))}},e.prototype.restoreLogs=function(e){var t=this,o=this.getLogs(),r=e.map((function(e){return e.split(t.logsDataDelimiter)})),n=d(r,o);u.default.set(this.localStorageKey,n)},e.prototype.getLogs=function(e){var t=this,o=u.default.get(this.localStorageKey)||[];return e&&(o=o.map((function(e){return e.join(t.logsDataDelimiter)}))),o},e.prototype.addLog=function(e){var t=this.getLogs(),o=e.eventType,r=e.trackCode,n=e.groupId,a=n?[o,r,n]:[o,r];t.push(a),u.default.set(this.localStorageKey,t),this.sendLogs()},e.prototype.clearLogs=function(){u.default.remove(this.localStorageKey)},e}(),g=function(){function e(){}return e.prototype.init=function(){var e=this;if(this.gallery=Object(r.geByClass1)("groups_recomm_gallery"),this.block=Object(r.geByClass1)("feed_groups_recomm"),this.eventLog=new p("al_groups.php","a_group_recommends_logs"),this.gallery){var t=Object(r.domData)(this.gallery,"code"),o={scrollY:!1,onViewItem:function(t){var o;(null===(o=e.gallery)||void 0===o?void 0:o.visible)&&e.onViewGroup(t)}};Object(r.domData)(this.gallery,"next")&&(o.onLoadMore=function(){a.ajax.post("al_groups.php",{act:"a_recomm_groups_gallery",next:Object(r.domData)(e.gallery,"next"),track_code:t},{onDone:function(t,o){var a,s=[];t&&(s=Object(r.domChildren)(Object(r.ce)("div",{innerHTML:t}))),null===(a=Object(n.uiGetGallery)(e.gallery))||void 0===a||a.addMore(s,!o),Object(r.domData)(e.gallery,"next",o||null)}})}),new n.UIGallery(this.gallery,o)}},e.prototype.subscribe=function(e,t,o){t.preventDefault();var r=e.closest(".wall_card"),n=r.dataset,l=n.groupId,u=n.trackCode;if(l&&u){this.eventLog.addLog({eventType:"group_subscribed",groupId:l,trackCode:u});var d={act:"a_subscribe_from_recomm_groups",hash:o,oid:-l,track_code:r.dataset.code};a.ajax.post("al_groups.php",d,{onDone:function(t){e.classList.add("secondary"),e.innerHTML=t,e.onclick=null},onFail:function(e){if(e)return Object(s.showFastBox)({title:Object(c.getLang)("global_error")},e),!0},showProgress:function(){return Object(i.lockButton)(e)},hideProgress:function(){return Object(i.unlockButton)(e)}})}},e.prototype.closeGroup=function(e,t,o){var u=this,d=e.closest(".wall_card").dataset,p=d.groupId,g=d.trackCode;if(p&&g)return this.eventLog.addLog({eventType:"group_hidden",groupId:p,trackCode:g}),a.ajax.post("al_groups.php",{act:"a_hide_recomm_groups_block_group",group_id:p,track_code:g,hash:o},{onDone:function(){var t=Object(n.uiGetGallery)(u.gallery);if(t){var o=Object(r.gpeByClass)("ui_gallery_item",e);t.removeItem(o)}},onFail:function(e){if(e)return Object(s.showFastBox)(Object(c.getLang)("global_error"),e),!0},showProgress:function(){return Object(i.lockButton)(e)},hideProgress:function(){return Object(i.unlockButton)(e)}}),Object(l.cancelEvent)(t),!1},e.prototype.hideBlock=function(e,t,o){Object(r.hide)(this.block),t.preventDefault();var n=Object(r.domData)(this.gallery,"code");this.eventLog.addLog({eventType:"block_hidden",trackCode:n}),a.ajax.post("al_groups.php",{act:"a_hide_recomm_groups_block",hash:o,track_code:n})},e.prototype.onViewGroup=function(e){if(!e.viewed&&Object(r.hasClass)(e,"ui_gallery_item")){var t=e.dataset,o=t.groupId,n=t.trackCode;o&&n&&(this.eventLog.addLog({trackCode:n,groupId:o,eventType:"group_seen"}),e.viewed=!0)}},e.prototype.clickOnGroup=function(e){var t=e.dataset,o=t.groupId,r=t.trackCode;o&&r&&this.eventLog.addLog({trackCode:r,groupId:o,eventType:"group_opened"})},e.prototype.clickOnViewAll=function(){var e=Object(r.domData)(this.gallery,"code");e&&this.eventLog.addLog({trackCode:e,eventType:"block_expanded"})},e.prototype.viewBlock=function(e){this.eventLog.addLog({trackCode:e,eventType:"block_seen"})},e}();window.RecommendedGroups=new g;try{window.stManager.done(window.jsc("web/recommended_groups_block.js"))}catch(e){}}});